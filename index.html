<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <link rel="stylesheet" href="css/style.css">
  <meta name="description" content="">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <meta property="og:image:alt" content="">

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="icon.png">

  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#fafafa">

  <!-- Bootstrap CSS CDN 추가 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
</head>

<body>
  <!-- AngularJS 앱의 루트: 반드시 body 안에 위치해야 함 -->
  <div ng-app="TeacherApp" ng-controller="TeacherController" class="container mt-5">
    <h2 class="mb-4">방문교사 관리 시스템</h2>
    <div ng-if="isLoading" class="alert alert-info">데이터를 불러오는 중입니다...</div>
    <div ng-if="errorMsg" class="alert alert-danger">{{errorMsg}}</div>
    <table ng-if="!isLoading && !errorMsg" class="table table-bordered table-hover table-sm mt-3">
      <thead class="thead-light">
        <tr>
          <th>번호</th>
          <th>이름</th>
          <th>방문 수</th>
          <th>신규 회원 수</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="teacher in teachers">
          <td>{{teacher.id}}</td>
          <td>{{teacher.name}}</td>
          <td>{{teacher.visits}}</td>
          <td>{{teacher.newStudents}}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- AngularJS와 app.js는 body 맨 아래에 위치해야 함 -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script src="js/app.js"></script>
  <script>
    // AngularJS가 정상적으로 로드됐는지 콘솔에서 확인
    if (window.angular) {
      console.log('AngularJS loaded:', angular.version.full);
    } else {
      console.error('AngularJS가 로드되지 않았습니다!');
    }
  </script>
</body>

</html>
